{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "魔法リスト",
    "type": "array",
    "items": {
        "type": "object",
        "title": "魔法",
        "required": [
            "name",
            "Lv",
            "MP",
            "効果"
        ],
        "properties": {
            "reference": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "book": {
                            "type": "string"
                        },
                        "value": {
                            "type": "integer"
                        }
                    }
                }
            },
            "Revision": {
                "type": "number",
                "enum": [
                    2.5,
                    2
                ]
            },
            "name": {
                "type": "string"
            },
            "school": {
                "type": "string"
            },
            "schoolVariant": {
                "type": [
                    "string",
                    "null"
                ],
                "enum": [
                    "基本",
                    "特殊",
                    "土",
                    "水・氷",
                    "炎",
                    "風",
                    "光",
                    "闇",
                    null
                ]
            },
            "god": {
                "type": [
                    "string",
                    "null"
                ]
            },
            "Lv": {
                "$ref": "#/definitions/Lv"
            },
            "MP": {
                "$ref": "#/definitions/MP"
            },
            "対象": {
                "$ref": "#/definitions/対象"
            },
            "補助": {
                "type": "boolean"
            },
            "準備": {
                "type": "boolean"
            },
            "犯罪": {
                "type": "boolean"
            },
            "時間": {
                "type": "object",
                "properties": {
                    "value": {
                        "type": [
                            "string",
                            "integer"
                        ],
                        "enum": [
                            "一瞬",
                            "永続",
                            "その他",
                            1,
                            2,
                            3,
                            4,
                            5,
                            6,
                            7,
                            8,
                            9,
                            10,
                            12,
                            18
                        ]
                    },
                    "unit": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "enum": [
                            "R",
                            "分",
                            "時間",
                            "日",
                            "年",
                            null
                        ]
                    }
                }
            },
            "射程": {
                "type": "string",
                "enum": [
                    "接触",
                    "術者"
                ]
            },
            "射程(m)": {
                "type": "integer",
                "default": 30,
                "minimum": 1
            },
            "形状": {
                "type": [
                    "string",
                    "null"
                ],
                "enum": [
                    "射撃",
                    "起点指定",
                    "貫通",
                    "突破",
                    null
                ]
            },
            "抵抗": {
                "type": "string",
                "enum": [
                    "必中",
                    "半減",
                    "なし",
                    "任意",
                    "消滅",
                    "生命／消滅",
                    "短縮"
                ]
            },
            "属性": {
                "type": [
                    "string",
                    "null"
                ],
                "enum": [
                    "断空",
                    "衝撃",
                    "炎",
                    "水・氷",
                    "雷",
                    "土",
                    "風",
                    "毒",
                    "呪い",
                    "病気",
                    "純エネルギー",
                    "精神効果",
                    null
                ]
            },
            "効果": {
                "type": "string"
            },
            "マギスフィア": {
                "type": [
                    "string",
                    "null"
                ],
                "enum": [
                    "小",
                    "中",
                    "大",
                    "大大",
                    "中小",
                    "大中小",
                    null
                ]
            },
            "オプション": {
                "type": [
                    "string",
                    "null"
                ]
            }
        }
    },
    "definitions": {
        "Lv": {
            "type": "object",
            "properties": {
                "kind": {
                    "type": "string",
                    "enum": [
                        "value",
                        "value+",
                        "rank"
                    ]
                }
            },
            "required": [
                "kind"
            ],
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "value"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "value": {
                                "type": "integer",
                                "default": 1,
                                "minimum": 1,
                                "maximum": 15
                            }
                        },
                        "required": [
                            "value"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "value+"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "value+": {
                                "type": "integer",
                                "default": 1,
                                "minimum": 1
                            }
                        },
                        "required": [
                            "value+"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "rank"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "rank": {
                                "type": "integer",
                                "default": 1,
                                "minimum": 1
                            }
                        },
                        "required": [
                            "rank"
                        ]
                    }
                }
            ]
        },
        "MP": {
            "type": "object",
            "properties": {
                "kind": {
                    "type": "string",
                    "enum": [
                        "value",
                        "value+",
                        "special"
                    ]
                }
            },
            "required": [
                "kind"
            ],
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "value"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "value": {
                                "type": "integer",
                                "default": 1,
                                "minimum": 0,
                                "maximum": 100
                            }
                        },
                        "required": [
                            "value"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "value+"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "value+": {
                                "type": "integer",
                                "default": 1,
                                "minimum": 0
                            }
                        },
                        "required": [
                            "value+"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "special"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "special": {
                                "type": "string",
                                "default": "効果参照"
                            }
                        },
                        "required": [
                            "special"
                        ]
                    }
                }
            ]
        },
        "エリア末尾": {
            "type": [
                "string",
                "integer"
            ],
            "enum": [
                "空間",
                "すべて",
                3,
                5,
                10,
                20
            ]
        },
        "個別": {
            "type": "string",
            "enum": [
                "術者",
                "弾丸",
                "1体",
                "1体全",
                "1体X",
                "1体+1体",
                "物体1つ",
                "魔法1つ",
                "人形1つ",
                "任意の地点",
                "接触点",
                "特殊"
            ]
        },
        "エリア": {
            "type": "object",
            "properties": {
                "value": {
                    "type": "string",
                    "enum": [
                        "1エリア",
                        "2エリア",
                        "3エリア",
                        "全エリア"
                    ]
                },
                "半径(m)": {
                    "type": "integer",
                    "default": 5,
                    "minimum": 1
                },
                "末尾": {
                    "$ref": "#/definitions/エリア末尾"
                }
            }
        },
        "対象": {
            "type": "object",
            "properties": {
                "kind": {
                    "type": "string",
                    "enum": [
                        "個別",
                        "エリア"
                    ]
                }
            },
            "required": [
                "kind"
            ],
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "個別"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "個別": {
                                "$ref": "#/definitions/個別"
                            }
                        },
                        "required": [
                            "個別"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "kind": {
                                "const": "エリア"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "エリア": {
                                "$ref": "#/definitions/エリア"
                            }
                        },
                        "required": [
                            "エリア"
                        ]
                    }
                }
            ]
        }
    }
}